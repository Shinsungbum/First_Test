<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
<!-- 아이디에 해당하는 이메일이 맞는지 확인 --> 
<select id="userid_email" resultType="integer">
select count(*) from member 
where userid=#{userid} and email=#{email}
</select>


<!-- 비밀번호변경 -->
<update id="reset_password">
update member set salt=#{salt}, userpw=#{userpw} 
where userid=#{userid}
</update>


<!-- 로그인 : 아이디/비번 일치하는 회원정보 조회 -->
<select id="login" resultType="member.MemberVO">
select * from member where userid = #{id} and userpw = #{pw}
</select>

<!-- 회원 salt조회 -->
<select id='salt' resultType="String">
select salt from member where userid = #{userid}
</select>

</mapper>